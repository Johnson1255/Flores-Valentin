import{a as d,L as m,i as u}from"./theme-Dh0GVG22.js";const n=document.querySelectorAll(".tab-button"),a=document.querySelector(".login-form"),e=document.querySelector(".register-form");document.addEventListener("DOMContentLoaded",()=>{d(),new m,u.updatePageContent(),n.forEach(r=>{r.addEventListener("click",()=>{n.forEach(t=>t.classList.remove("active")),r.classList.add("active"),r.textContent.trim()===u.t("login")?(a.style.display="block",e.style.display="none"):(a.style.display="none",e.style.display="block")})}),e.addEventListener("submit",r=>{r.preventDefault();const t=e.querySelector("#password-registro").value,l=e.querySelector("#confirm-password").value;if(t!==l){alert("Las contrase침as no coinciden");return}const i={nombre:e.querySelector("#nombre").value,apellidos:e.querySelector("#apellidos").value,email:e.querySelector("#email-registro").value,telefono:e.querySelector("#telefono").value,pais:e.querySelector("#pais").value,ciudad:e.querySelector("#ciudad").value,barrio:e.querySelector("#barrio").value,direccion:e.querySelector("#direccion").value,codigoPostal:e.querySelector("#codigo-postal").value,password:t,ocasiones:Array.from(e.querySelectorAll('input[name="ocasiones"]:checked')).map(s=>s.value)},o=JSON.parse(localStorage.getItem("users"))||[];if(o.some(s=>s.email===i.email)){alert("Este correo electr칩nico ya est치 registrado");return}o.push(i),localStorage.setItem("users",JSON.stringify(o)),alert("Registro exitoso!"),e.reset(),n[0].click()}),a.addEventListener("submit",r=>{r.preventDefault();const t=a.querySelector("#email").value,l=a.querySelector("#password").value,o=(JSON.parse(localStorage.getItem("users"))||[]).find(s=>s.email===t&&s.password===l);o?(localStorage.setItem("currentUser",JSON.stringify({nombre:o.nombre,email:o.email,isLoggedIn:!0})),window.location.href="/index.html"):alert("Usuario o contrase침a incorrecto")});const c=JSON.parse(localStorage.getItem("currentUser"));c&&c.isLoggedIn&&(window.location.href="/index.html")});
